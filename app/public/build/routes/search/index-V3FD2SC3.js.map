{
  "version": 3,
  "sources": ["../../../../app/routes/search/index.tsx"],
  "sourcesContent": ["import { Link, useActionData, useTransition } from \"@remix-run/react\";\nimport { json } from \"@remix-run/server-runtime\";\nimport type { ActionFunction } from \"@remix-run/server-runtime\";\nimport { searchPhotos } from \"../../services/unsplash\";\nimport type { UnsplashResponse } from \"../../domain/UnsplashResponse\";\n\nexport const action: ActionFunction = async ({ request }) => {\n  const formData = await request.formData();\n  const query = formData.get(\"query\")?.toString();\n  if (!query) {\n    throw json({\n      status: \"409\",\n      error: \"Bad request - 'query' is null or not provided\",\n    });\n  }\n  const results = await searchPhotos(query);\n\n  return json(results);\n};\n\nexport default function UnsplashSearchRoute() {\n  const actionData = useActionData<UnsplashResponse>();\n  const transition = useTransition();\n\n  if (transition.state === \"loading\") {\n    return (\n      <p>\n        Henter bilde fra Unsplash, knasker det gjennom Sqip og spytter ut svg.\n        Vennligst vent...\n      </p>\n    );\n  }\n\n  return (\n    <>\n      <Link className=\"underline\" to=\"..\">\n        Forsiden\n      </Link>\n      <form method=\"post\" action=\"/search?index\" className=\"w-3/5\">\n        <div className=\"my-5 flex flex-col items-center\">\n          <label htmlFor=\"query\" className=\"my-2\">\n            S\u00F8k hos{\" \"}\n            <a className=\"underline\" href=\"https://unsplash.com/\">\n              Unsplash\n            </a>\n          </label>\n          <input\n            type=\"text\"\n            name=\"query\"\n            placeholder=\"S\u00F8k p\u00E5 engelsk\"\n            className=\"w-full rounded-lg p-2\"\n          />\n          <button\n            type=\"submit\"\n            className=\"mt-5 block rounded-lg bg-accent px-52 py-2\"\n          >\n            S\u00F8k\n          </button>\n        </div>\n      </form>\n      <div className=\"grid grid-cols-5 gap-5 border-2 border-red-300\">\n        <ImageLink\n          src=\"https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80\"\n          altText=\"\"\n          id=\"\"\n        />\n        <ImageLink\n          src=\"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2242&q=80\"\n          altText=\"\"\n          id=\"\"\n        />\n        <ImageLink\n          src=\"https://images.unsplash.com/photo-1507608616759-54f48f0af0ee?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=987&q=80\"\n          altText=\"\"\n          id=\"\"\n        />\n        <ImageLink\n          src=\"https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80\"\n          altText=\"\"\n          id=\"\"\n        />\n        <ImageLink\n          src=\"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2242&q=80\"\n          altText=\"\"\n          id=\"\"\n        />\n        <ImageLink\n          src=\"https://images.unsplash.com/photo-1507608616759-54f48f0af0ee?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=987&q=80\"\n          altText=\"\"\n          id=\"\"\n        />\n        <ImageLink\n          src=\"https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80\"\n          altText=\"\"\n          id=\"\"\n        />\n        <ImageLink\n          src=\"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2242&q=80\"\n          altText=\"\"\n          id=\"\"\n        />\n        <ImageLink\n          src=\"https://images.unsplash.com/photo-1507608616759-54f48f0af0ee?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=987&q=80\"\n          altText=\"\"\n          id=\"\"\n        />\n\n        {actionData?.response?.results.map((img) => {\n          return (\n            <Link key={img.id} to={`/unsplash/${encodeURIComponent(img.id)}`}>\n              <img alt={img.alt_description} src={img.urls.regular} />\n            </Link>\n          );\n        })}\n      </div>\n    </>\n  );\n}\n\nfunction ImageLink({\n  src,\n  id,\n  altText = \"\",\n}: {\n  src: string;\n  id: string;\n  altText?: string;\n}) {\n  return (\n    <div className=\"flex\">\n      <Link to={`/unsplash/${encodeURIComponent(id)}`}>\n        <img\n          className=\"max-h-full w-full object-cover\"\n          alt={altText}\n          src={src}\n        />\n      </Link>\n    </div>\n  );\n}\n"],
  "mappings": "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",
  "names": []
}
