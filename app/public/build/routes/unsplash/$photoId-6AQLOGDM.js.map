{
  "version": 3,
  "sources": ["../../../../app/routes/unsplash/$photoId.tsx"],
  "sourcesContent": ["import { Konvertering } from \"@prisma/client\";\nimport { Link, useLoaderData } from \"@remix-run/react\";\nimport type { LoaderFunction } from \"@remix-run/server-runtime\";\nimport { json } from \"@remix-run/server-runtime\";\nimport { PhotoAttribution } from \"../../components/PhotoAttribution\";\nimport {\n  fetchFromUnsplashAndRunThroughSqip,\n  Metadata,\n} from \"../../services/sqip\";\n\nexport const loader: LoaderFunction = async ({ params }) => {\n  const photoId = params.photoId;\n\n  if (!photoId) {\n    throw json({ message: \"Unsplash id er tom\" }, 409);\n  }\n\n  const resultatFraKonvertering = await fetchFromUnsplashAndRunThroughSqip(\n    photoId\n  );\n  return json({ result: resultatFraKonvertering }, 200);\n};\n\nexport default function UnsplashUrl() {\n  const data = useLoaderData<{ result: Konvertering }>();\n\n  const metadata = JSON.parse(data.result.metadata) as Metadata;\n\n  const unsplash = metadata.unsplashResponse?.response;\n\n  if (!data) {\n    return (\n      <div className=\"flex flex-col items-center\">\n        <p>\n          Henter bilde fra Unsplash, knasker det gjennom Sqip og spytter ut svg.\n          Vennligst vent...\n        </p>\n        <img\n          className=\"mt-10 h-64 rounded-lg bg-white shadow-lg\"\n          src=\"/sauelaster.gif\"\n          alt=\"Gif som representerer et bilde av tre sauer som blir konvertert med Sqip\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col items-center\">\n      <div className=\"grid grid-cols-2 gap-20 text-center\">\n        <div>\n          <h1 className=\"font-bold\">Originalbilde</h1>\n          <p>\n            Original st\u00F8rrelse p\u00E5 bilde:{\" \"}\n            {parseInt(metadata.originalStorrelse).toFixed(2)} MB\n          </p>\n          <img src={`/${metadata.nedlastetBildePath}`} alt=\"Originalbilde\" />\n          <p>\n            {unsplash?.exif.aperture} / {unsplash?.exif.exposure_time} -{\" \"}\n            {unsplash?.exif.model}\n          </p>\n          <PhotoAttribution\n            attributionLink={unsplash?.links.html ?? \"\"}\n            photoBy={unsplash?.user.name ?? \"\"}\n            userProfileLink={unsplash?.user.links.html ?? \"\"}\n          />\n        </div>\n        <div>\n          <h1 className=\"font-bold\">SVG etter konvertering</h1>\n          <p>Ny st\u00F8rrelse p\u00E5 bilde: {metadata.nyStorrelse} MB</p>\n          <img\n            src={`/${metadata.resultatSvgPath}`}\n            alt=\"SVG av originalbilde\"\n          />\n          <p>Antall primitives: {data.result.numberOfPrimitives}</p>\n        </div>\n      </div>\n      <div className=\"m-5\">\n        <p className=\"text-2xl\">Du sparer {metadata.prosentSpart} %</p>\n      </div>\n\n      <Link className=\"rounded-md bg-accent py-5 px-10\" to=\"/search\">\n        Nytt s\u00F8k\n      </Link>\n    </div>\n  );\n}\n"],
  "mappings": "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",
  "names": []
}
